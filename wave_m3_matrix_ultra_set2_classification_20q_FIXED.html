<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kru Pai Classroom ‚Äî ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô ‡∏°.3 ‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2 (‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏Ñ‡∏•‡∏∑‡πà‡∏ô) ‚Ä¢ Matrix ULTRA</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;700;900&family=Rubik:wght@500;700;900&display=swap" rel="stylesheet">
<style>
:root{
  --neon:#22c55e; --neon2:#00ffd1; --mint:#6ee7b7;
  --bg0:#000; --bg1:#06120a;
  --card:rgba(5,20,12,.92);
  --line:#22c55e55;
  --ink:#d1fae5; --muted:#9fe9c8;
  --ok:#34d399; --bad:#fb7185; --warn:#f59e0b;
  --shadow:0 0 28px rgba(34,197,94,.25);
  --shadow2:0 0 18px rgba(34,197,94,.35);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:"Noto Sans Thai","Rubik",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(circle at top, rgba(0,255,150,.12), transparent 40%),
    radial-gradient(circle at 80% 20%, rgba(34,197,94,.10), transparent 40%),
    linear-gradient(180deg,var(--bg1),var(--bg0));
  overflow-x:hidden;
}
/* Matrix rain canvas */
#rain{position:fixed; inset:0; z-index:0; pointer-events:none; opacity:.28;}
.layer{position:relative; z-index:1}

.header{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(0,0,0,.82), rgba(0,0,0,.45));
  border-bottom:1px solid var(--line);
  box-shadow: var(--shadow);
}
.banner{max-width:1040px;margin:auto;display:flex;align-items:center;gap:12px;padding:12px}
.logo{
  width:44px;height:44px;border-radius:14px;display:grid;place-items:center;
  background:conic-gradient(from 0deg,#22c55e,#00ffd1,#22c55e);
  color:#001b0d;font-weight:900; box-shadow:0 0 18px rgba(34,197,94,.5);
}
.brand{font-weight:900;font-size:clamp(16px,2.6vw,24px)}
.sub{margin-left:auto;font-size:12px;color:#a7f3d0;opacity:.9}

.wrap{max-width:1040px;margin:0 auto;padding:14px 12px 28px}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:18px;
  box-shadow:var(--shadow);
}
.start{
  margin-top:14px;
  padding:18px;
  display:grid; gap:12px;
  justify-items:center; text-align:center;
}
.bigtitle{font-weight:900;font-size:clamp(22px,4vw,36px); text-shadow:0 0 18px rgba(34,197,94,.35)}
.tagline{color:var(--muted);font-size:clamp(13px,2.4vw,17px);line-height:1.55}
.pills{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:4px}
.pill{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:rgba(0,0,0,.35);color:#a7f3d0;font-weight:900;font-size:12px}
.input{
  display:flex;gap:10px;align-items:center;justify-content:center;
  background:rgba(0,0,0,.35);
  border:1px solid var(--line);
  padding:10px 12px;border-radius:14px;
  width:min(520px,95%);
}
.input input{flex:1;border:none;background:transparent;outline:none;color:var(--ink);font-size:18px;min-width:160px}
.btn{
  border:none; cursor:pointer;
  padding:12px 14px;border-radius:14px;
  font-weight:900; letter-spacing:.2px;
  color:#001b0d;
  background: linear-gradient(180deg, #6ee7b7, #22c55e);
  box-shadow: 0 10px 0 #0b5b33, 0 18px 36px rgba(34,197,94,.25);
  transform:translateY(0);
  transition:.15s;
}
.btn:hover{transform:translateY(-2px); box-shadow: 0 10px 0 #0b5b33, 0 0 22px rgba(34,197,94,.35);}
.btn:active{transform:translateY(2px)}
.btn.ghost{
  background:rgba(0,0,0,.35);
  color:#a7f3d0;
  border:1px solid var(--line);
  box-shadow:none;
}
.row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.note{font-size:12px;color:#9fe9c8;opacity:.9}
.hide{display:none !important}

/* HUD */
.hud{
  display:grid;
  grid-template-columns:1fr auto auto auto;
  align-items:center;
  gap:8px;
  padding:10px 12px;
  border-bottom:1px dashed var(--line);
}
.hud .step{font-weight:900;color:#a7f3d0}
.hud .score, .hud .who, .hud .mode{
  font-size:12px;color:#a7f3d0;
  background:rgba(0,0,0,.35);
  border:1px solid var(--line);
  padding:6px 10px;border-radius:999px;font-weight:900;
}
.progress{height:8px;background:rgba(255,255,255,.06);border-radius:999px;overflow:hidden;border:1px solid var(--line);margin:0 12px 12px}
.progress>div{height:100%;width:0%;background:linear-gradient(90deg,#22c55e,#00ffd1,#22c55e); box-shadow:0 0 12px rgba(0,255,209,.5)}

.stage{padding:12px}
.qbox{
  border:1px solid var(--line);
  border-radius:16px;
  background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.15));
  padding:14px;
  box-shadow:0 0 22px rgba(34,197,94,.18);
}
.qtitle{
  font-weight:900;
  font-size:clamp(14px,2.2vw,16px);
  color:#a7f3d0;
  display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;
}
.qtext{margin-top:10px;font-weight:900;font-size:clamp(18px,2.9vw,26px);line-height:1.35}
.options{margin-top:12px;display:grid;gap:10px}
.opt{
  background:rgba(0,0,0,.35);
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px 12px;
  font-weight:900;
  font-size:clamp(15px,2.5vw,18px);
  cursor:pointer;
  transition:.12s;
  box-shadow:0 0 0 transparent;
}
.opt:hover{transform:translateY(-1px); box-shadow:var(--shadow2)}
.opt.selected{outline:2px solid var(--neon2); box-shadow:0 0 22px rgba(0,255,209,.35)}
.opt.correct{border-color: rgba(52,211,153,.9); outline:2px solid rgba(52,211,153,.85)}
.opt.wrong{border-color: rgba(251,113,133,.95); outline:2px solid rgba(251,113,133,.7); animation:shake .18s linear 0s 2}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-4px)}75%{transform:translateX(4px)}}

.feedback{margin-top:12px; display:flex; justify-content:center}
.feedback span{
  display:inline-block;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(0,0,0,.35);
  font-weight:900;
  box-shadow:0 0 18px rgba(34,197,94,.15);
}
.fb-ok{color:#6ee7b7}
.fb-no{color:#ffb4c0}
.explain{
  margin-top:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px dashed var(--line);
  background:rgba(0,0,0,.25);
  color:#b7ffe0;
  font-weight:800;
  line-height:1.55;
}
.explain b{color:#d1fae5}

/* footer bar */
.footer{
  position:sticky; bottom:0; z-index:40;
  padding:10px 12px;
  background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.80));
  backdrop-filter: blur(10px);
  border-top:1px solid var(--line);
  display:flex; gap:8px; justify-content:center; flex-wrap:wrap;
}
.footer .btn{min-width:148px}

/* floating control panel */
.ctrl{position:fixed; right:12px; top:88px; z-index:60; display:grid; gap:8px}
.toggle{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:10px 12px;border-radius:14px;border:1px solid var(--line);
  background:rgba(0,0,0,.45); box-shadow:0 0 18px rgba(34,197,94,.18);
  color:#a7f3d0; font-weight:900; width:210px;
}
.switch{width:48px;height:26px;border-radius:999px;background:rgba(255,255,255,.10);border:1px solid var(--line);position:relative}
.switch i{
  position:absolute; top:2px; left:2px;
  width:20px;height:20px;border-radius:50%;
  background:linear-gradient(180deg,#a7f3d0,#22c55e);
  box-shadow:0 0 14px rgba(34,197,94,.45);
  transition:.15s;
}
.switch.on{background:rgba(34,197,94,.25)}
.switch.on i{left:26px}
@media (max-width:560px){
  .ctrl{right:10px; top:78px}
  .toggle{width:190px}
  .hud{grid-template-columns:1fr auto; grid-auto-rows:auto}
  .hud .mode{display:none}
}

/* FX */
.emoji-float{
  position:fixed;
  font-size:34px;
  pointer-events:none;
  z-index:70;
  text-shadow:0 0 18px rgba(34,197,94,.55);
  animation:floatUp 1.2s ease-out forwards;
}
@keyframes floatUp{
  from{transform:translateY(0) scale(1);opacity:1}
  to{transform:translateY(-140px) scale(1.1);opacity:0}
}
.confetti{position:fixed; left:0; top:0; width:100%; height:100%; pointer-events:none; overflow:hidden; z-index:65}
.confetti i{position:absolute; width:8px; height:12px; opacity:.95; animation:fall 900ms linear forwards; box-shadow:0 0 10px rgba(0,255,209,.45)}
@keyframes fall{ to{ transform:translateY(120vh) rotate(420deg); opacity:0 } }
</style>
</head>
<body>
<canvas id="rain"></canvas>

<div class="header layer">
  <div class="banner">
    <div class="logo">KP</div>
    <div class="brand">Kru Pai Classroom ‚Äî <span style="color:var(--mint)">‡∏Ñ‡∏•‡∏∑‡πà‡∏ô ‡∏°.3 ‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2</span></div>
    <div class="sub">Wave Classification ‚Ä¢ Matrix ULTRA ‚Ä¢ 20 ‡∏Ç‡πâ‡∏≠</div>
  </div>
</div>

<div class="ctrl layer">
  <div class="toggle" onclick="toggleRain()">
    <span>Matrix Rain</span>
    <div id="swRain" class="switch on"><i></i></div>
  </div>
  <div class="toggle" onclick="toggleSound()">
    <span>Sound FX</span>
    <div id="swSound" class="switch on"><i></i></div>
  </div>
</div>

<div class="wrap layer">
  <div id="intro" class="card start">
    <div class="bigtitle">Wave Classification ‚Äî Mission 2</div>
    <div class="tagline">
      ‡∏à‡∏≥‡πÅ‡∏ô‡∏Å <b>‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏• / ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</b> ‚Ä¢ <b>‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á / ‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß</b> ‚Ä¢
      ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏°‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (20 ‡∏Ç‡πâ‡∏≠)
    </div>
    <div class="pills">
      <div class="pill">Mechanical vs EM</div>
      <div class="pill">Transverse vs Longitudinal</div>
      <div class="pill">Radio ‚Üí Micro ‚Üí IR ‚Üí Visible ‚Üí UV ‚Üí X ‚Üí Gamma</div>
    </div>
    <div class="input">
      <span style="font-weight:900;color:#a7f3d0">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô:</span>
      <input id="nickname" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°"/>
    </div>
    <div class="row">
      <button class="btn" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</button>
      <button class="btn ghost" onclick="startGame(true)">‡∏û‡∏£‡∏µ‡∏ß‡∏¥‡∏ß 1 ‡∏Ç‡πâ‡∏≠</button>
    </div>
    <div class="note">* ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á: ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏•‡∏±‡∏á ‚Äú‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‚Äù (‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå)</div>
  </div>

  <div id="game" class="card hide">
    <div class="hud">
      <div class="step">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <b id="step">1</b> / 20</div>
      <div class="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <b id="score">0</b></div>
      <div class="who">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: <b id="who">-</b></div>
      <div class="mode">‡πÇ‡∏´‡∏°‡∏î: <b>Matrix ULTRA</b></div>
    </div>
    <div class="progress"><div id="bar"></div></div>

    <div class="stage">
      <div class="qbox">
        <div class="qtitle">
          <div id="qtag">‚Äî</div>
          <div id="difficulty">‚Äî</div>
        </div>

        <div id="qtext" class="qtext">‚Äî</div>
        <div id="options" class="options"></div>

        <div id="fb" class="feedback"></div>
        <div id="explain" class="explain hide"></div>
      </div>
    </div>

    <div class="footer">
      <button class="btn ghost" onclick="clearChoice()">‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
      <button class="btn" id="checkBtn" onclick="checkAns()">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
      <button class="btn" id="nextBtn" onclick="nextQ()" disabled>‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚ûú</button>
    </div>
  </div>

  <div id="summary" class="card hide" style="padding:18px; display:grid; gap:12px; justify-items:center; text-align:center">
    <div class="bigtitle">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‚ö°</div>
    <div class="tagline">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á <b id="who2">-</b> ‡∏Ñ‡∏∑‡∏≠ <b id="score2">0</b> / 20</div>
    <div class="row">
      <button class="btn" onclick="restart()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
      <button class="btn ghost" onclick="review()">‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏∏‡∏î</button>
      <button class="btn" onclick="startGame()">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà (‡∏™‡∏∏‡πà‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö)</button>
    </div>

    <div id="reviewBox" class="card hide" style="width:min(920px,96%);padding:14px;text-align:left;background:rgba(0,0,0,.35)"></div>
  </div>
</div>

<div id="fx" class="confetti hide"></div>

<script>
/* =========================
   Question Bank (20) ‚Äî Classification
   ========================= */
const Q = [
  {tag:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•‚Äù", choices:["‡πÅ‡∏™‡∏á","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå","‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü"], a:1, explain:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏™‡∏µ‡∏¢‡∏á, ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡πâ‡∏≥, ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å"},
  {tag:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ç‡πâ‡∏≠‡πÉ‡∏î ‚Äú‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‚Äù", choices:["‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡πâ‡∏≥","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤"], a:3, explain:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏ô‡∏™‡∏∏‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏®‡πÑ‡∏î‡πâ"},
  {tag:"‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß/‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î", choices:["‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á","‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á","‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤"], a:1, explain:"‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß (‡∏≠‡∏±‡∏î-‡∏Ç‡∏¢‡∏≤‡∏¢)"},
  {tag:"‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß/‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ö‡∏ô‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î", choices:["‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á","‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"], a:0, explain:"‡∏ó‡∏¥‡∏®‡∏™‡∏±‡πà‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏â‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏ó‡∏¥‡∏®‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà ‚Üí ‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á"},
  {tag:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡πÅ‡∏™‡∏á‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÉ‡∏î", choices:["‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡∏¥‡πà‡∏á"], a:2, explain:"‡πÅ‡∏™‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤"},
  {tag:"‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏° EM", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà ‚Äú‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î‚Äù", choices:["‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏","‡πÅ‡∏™‡∏á","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå"], a:1, explain:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏"},
  {tag:"‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏° EM", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà ‚Äú‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‚Äù", choices:["‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü","‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÅ‡∏Å‡∏°‡∏°‡∏≤","‡πÅ‡∏™‡∏á"], a:2, explain:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÅ‡∏Å‡∏°‡∏°‡∏≤"},
  {tag:"‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏° EM", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ï‡πà‡∏≥ ‚Üí ‡∏™‡∏π‡∏á ‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", choices:[
    "‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ ‚Üí ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î ‚Üí ‡πÅ‡∏™‡∏á",
    "‡πÅ‡∏™‡∏á ‚Üí ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î ‚Üí ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏",
    "‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ ‚Üí ‡πÅ‡∏™‡∏á ‚Üí ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î",
    "‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ ‚Üí ‡πÅ‡∏™‡∏á ‚Üí ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î"
  ], a:0, explain:"‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡πà‡∏≥‚Üí‡∏™‡∏π‡∏á: ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏, ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü, ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î, ‡πÅ‡∏™‡∏á, UV, X, Gamma"},
  {tag:"‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏° EM", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î‡∏≠‡∏¢‡∏π‡πà ‚Äú‡∏ñ‡∏±‡∏î‡∏à‡∏≤‡∏Å‚Äù ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÉ‡∏î‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤", choices:["‡πÅ‡∏™‡∏á","‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü","‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÅ‡∏Å‡∏°‡∏°‡∏≤"], a:1, explain:"‡∏•‡∏≥‡∏î‡∏±‡∏ö: ... ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î ‚Üí ‡πÅ‡∏™‡∏á"},
  {tag:"‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏° EM", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà ‚Äú‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‚Äù ‡∏≠‡∏∞‡πÑ‡∏£", choices:["‡πÅ‡∏™‡∏á","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÅ‡∏Å‡∏°‡∏°‡∏≤","‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏π‡∏Å"], a:0, explain:"UV ‡∏≠‡∏¢‡∏π‡πà‡∏ñ‡∏±‡∏î‡∏à‡∏≤‡∏Å‡πÅ‡∏™‡∏á‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤"},
  {tag:"‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô EM", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÉ‡∏î‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏", choices:["‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏","‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå"], a:1, explain:"‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏"},
  {tag:"‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô EM", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÉ‡∏î‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÄ‡∏ï‡∏≤‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü", choices:["‡πÅ‡∏™‡∏á","‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü","‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå"], a:1, explain:"‡πÄ‡∏ï‡∏≤‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü"},
  {tag:"‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô EM", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÉ‡∏î‡πÉ‡∏ä‡πâ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÄ‡∏≠‡∏Å‡∏ã‡πÄ‡∏£‡∏¢‡πå‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå", choices:["‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï","‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå","‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü"], a:2, explain:"‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏ã‡πÄ‡∏£‡∏¢‡πå‡πÉ‡∏ä‡πâ‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏≠‡∏Å‡∏ã‡πå"},
  {tag:"‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á EM", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÉ‡∏î‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", choices:["‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏","‡πÅ‡∏™‡∏á","‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï","‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÅ‡∏Å‡∏°‡∏°‡∏≤"], a:3, explain:"‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏™‡∏π‡∏á ‚Üí ‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÅ‡∏Å‡∏°‡∏°‡∏≤"},
  {tag:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà", choices:["‡∏™‡∏∏‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏®","‡∏™‡∏ô‡∏≤‡∏°‡πÑ‡∏ü‡∏ü‡πâ‡∏≤","‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á","‡∏™‡∏ô‡∏≤‡∏°‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å"], a:2, explain:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á (‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á/‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß/‡πÅ‡∏Å‡πä‡∏™)"},
  {tag:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô", choices:["‡∏ô‡πâ‡∏≥","‡∏≠‡∏≤‡∏Å‡∏≤‡∏®","‡∏™‡∏∏‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏®","‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á"], a:2, explain:"‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏™‡∏∏‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏®"},
  {tag:"‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á/‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß", diff:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", q:"‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á‚Äù ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", choices:["‡πÄ‡∏™‡∏µ‡∏¢‡∏á, ‡πÅ‡∏™‡∏á","‡πÅ‡∏™‡∏á, ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å","‡πÄ‡∏™‡∏µ‡∏¢‡∏á, ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡πâ‡∏≥","‡πÄ‡∏™‡∏µ‡∏¢‡∏á, ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏"], a:1, explain:"‡πÅ‡∏™‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ö‡∏ô‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á"},
  {tag:"‡∏ï‡∏≤‡∏°‡∏Ç‡∏ß‡∏≤‡∏á/‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß", choices:["‡πÅ‡∏™‡∏á","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á","‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ô‡πâ‡∏≥"], a:2, explain:"‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß"},
  {tag:"EM Spectrum", diff:"‡∏á‡πà‡∏≤‡∏¢", q:"‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏‡∏Å‡∏±‡∏ö‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô", choices:["‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Å‡∏•","‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏ß","‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤","‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á"], a:2, explain:"‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤"},
  {tag:"‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏° EM", diff:"‡∏¢‡∏≤‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢", q:"‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏™‡∏π‡∏á ‚Üí ‡∏ï‡πà‡∏≥ ‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", choices:[
    "‡πÅ‡∏Å‡∏°‡∏°‡∏≤ ‚Üí ‡πÄ‡∏≠‡∏Å‡∏ã‡πå ‚Üí ‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÑ‡∏ß‡πÇ‡∏≠‡πÄ‡∏•‡∏ï ‚Üí ‡πÅ‡∏™‡∏á",
    "‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ ‚Üí ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡πÅ‡∏™‡∏á ‚Üí ‡πÅ‡∏Å‡∏°‡∏°‡∏≤",
    "‡πÅ‡∏™‡∏á ‚Üí ‡∏≠‡∏¥‡∏ô‡∏ü‡∏≤‡πÄ‡∏£‡∏î ‚Üí ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü ‚Üí ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏",
    "‡πÄ‡∏≠‡∏Å‡∏ã‡πå ‚Üí ‡πÅ‡∏Å‡∏°‡∏°‡∏≤ ‚Üí ‡πÅ‡∏™‡∏á ‚Üí ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏"
  ], a:0, explain:"‡∏™‡∏π‡∏á‚Üí‡∏ï‡πà‡∏≥: ‡πÅ‡∏Å‡∏°‡∏°‡∏≤, ‡πÄ‡∏≠‡∏Å‡∏ã‡πå, UV, ‡πÅ‡∏™‡∏á, IR, ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÄ‡∏ß‡∏ü, ‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏"}
];

/* =========================
   State
   ========================= */
let order=[], idx=0, score=0, nickname="‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô";
let selected=-1;
let locked=false;

const elIntro=document.getElementById('intro');
const elGame=document.getElementById('game');
const elSummary=document.getElementById('summary');

const elStep=document.getElementById('step');
const elScore=document.getElementById('score');
const elWho=document.getElementById('who');
const elWho2=document.getElementById('who2');
const elScore2=document.getElementById('score2');
const elBar=document.getElementById('bar');

const elQtag=document.getElementById('qtag');
const elDiff=document.getElementById('difficulty');
const elQtext=document.getElementById('qtext');
const elOptions=document.getElementById('options');
const elFb=document.getElementById('fb');
const elExplain=document.getElementById('explain');
const elNext=document.getElementById('nextBtn');

document.getElementById('nickname').addEventListener('keydown',e=>{
  if(e.key==='Enter') startGame();
});

/* =========================
   Sound (FX + ambient)
   ========================= */
let soundOn=true;
let ambientOn=true;
let ctx=null;
let ambientNodes=null;

function audioCtx(){
  if(!ctx) ctx = new (window.AudioContext||window.webkitAudioContext)();
  return ctx;
}
function beep(f=880, d=0.07, type='sine', gain=0.18){
  if(!soundOn) return;
  try{
    const ac=audioCtx();
    const o=ac.createOscillator();
    const g=ac.createGain();
    o.type=type; o.frequency.value=f;
    g.gain.value=0.0001;
    o.connect(g); g.connect(ac.destination);
    const now=ac.currentTime;
    g.gain.setValueAtTime(0.0001, now);
    g.gain.exponentialRampToValueAtTime(gain, now+0.01);
    g.gain.exponentialRampToValueAtTime(0.0001, now+d);
    o.start(now); o.stop(now+d+0.02);
  }catch(e){}
}
function matrixClick(){ beep(1600,0.04,'square',0.12); }
function correctFx(){ beep(1400,0.08,'triangle',0.20); setTimeout(()=>beep(1800,0.06,'triangle',0.16),85); }
function wrongFx(){ beep(240,0.10,'sawtooth',0.14); setTimeout(()=>beep(180,0.08,'sawtooth',0.12),85); }

function startAmbient(){
  if(!soundOn || !ambientOn) return;
  try{
    const ac=audioCtx();
    if(ambientNodes) return;

    const o1=ac.createOscillator(); o1.type="sine"; o1.frequency.value=76;
    const o2=ac.createOscillator(); o2.type="sine"; o2.frequency.value=76.8;
    const g=ac.createGain(); g.gain.value=0.02;
    const lp=ac.createBiquadFilter(); lp.type="lowpass"; lp.frequency.value=420;

    const trem=ac.createOscillator(); trem.type="sine"; trem.frequency.value=0.25;
    const tremGain=ac.createGain(); tremGain.gain.value=0.012;

    trem.connect(tremGain); tremGain.connect(g.gain);
    o1.connect(lp); o2.connect(lp); lp.connect(g); g.connect(ac.destination);

    o1.start(); o2.start(); trem.start();
    ambientNodes={o1,o2,g,lp,trem,tremGain};
  }catch(e){}
}
function stopAmbient(){
  try{
    if(!ambientNodes) return;
    ambientNodes.o1.stop(); ambientNodes.o2.stop(); ambientNodes.trem.stop();
    ambientNodes=null;
  }catch(e){}
}
window.addEventListener('pointerdown', ()=>{ if(soundOn&&ambientOn) startAmbient(); }, {once:true});

function setSwitch(id,on){
  const sw=document.getElementById(id);
  sw.classList.toggle('on', on);
}
function toggleSound(){
  soundOn=!soundOn;
  setSwitch('swSound', soundOn);
  if(!soundOn) stopAmbient();
  else { matrixClick(); startAmbient(); }
}

/* =========================
   Rain toggle
   ========================= */
let rainOn=true;
function toggleRain(){
  rainOn=!rainOn;
  document.getElementById('rain').style.display = rainOn ? 'block':'none';
  setSwitch('swRain', rainOn);
  matrixClick();
}

/* =========================
   FX
   ========================= */
function emojiFloat(symbol="üòé"){
  const e=document.createElement("div");
  e.className="emoji-float";
  e.textContent=symbol;
  e.style.left=(35+Math.random()*30)+"vw";
  e.style.top=(55+Math.random()*10)+"vh";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),1200);
}
function burst(){
  const fx=document.getElementById('fx');
  fx.classList.remove('hide');
  fx.innerHTML="";
  const colors=['#22c55e','#00ffd1','#6ee7b7','#34d399','#a7f3d0'];
  for(let i=0;i<30;i++){
    const it=document.createElement('i');
    it.style.left=(Math.random()*100)+'vw';
    it.style.top='-10vh';
    it.style.background=colors[i%colors.length];
    it.style.animationDelay=(Math.random()*0.12)+'s';
    fx.appendChild(it);
  }
  setTimeout(()=>{fx.classList.add('hide'); fx.innerHTML="";}, 1000);
}

/* =========================
   Helpers
   ========================= */
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

/* =========================
   Game flow
   ========================= */
function startGame(preview=false){
  matrixClick();
  nickname=(document.getElementById('nickname').value || "‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô").trim() || "‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô";

  order=shuffle([...Array(Q.length).keys()]);
  idx=0; score=0; selected=-1; locked=false;

  document.getElementById('who').textContent=nickname;
  document.getElementById('who2').textContent=nickname;
  document.getElementById('score').textContent="0";

  document.getElementById('intro').classList.add('hide');
  document.getElementById('summary').classList.add('hide');
  document.getElementById('reviewBox').classList.add('hide');
  document.getElementById('game').classList.remove('hide');

  renderQ();

  if(preview){
    // allow user to go next normally; preview just starts immediately
  }
}

function renderQ(){
  const item=Q[order[idx]];
  selected=-1; locked=false;

  elStep.textContent=(idx+1);
  elScore.textContent=score;
  elBar.style.width=(idx/Q.length*100)+"%";

  elQtag.textContent="‡∏´‡∏°‡∏ß‡∏î: "+item.tag;
  elDiff.textContent="‡∏£‡∏∞‡∏î‡∏±‡∏ö: "+item.diff;

  elQtext.textContent=item.q;

  elOptions.innerHTML="";
  elFb.innerHTML="";
  elExplain.classList.add('hide');
  elExplain.innerHTML="";
  elNext.disabled=true;

  item.choices.forEach((c,i)=>{
    const d=document.createElement('div');
    d.className="opt";
    d.innerHTML=`<span style="color:${getComputedStyle(document.documentElement).getPropertyValue('--mint')}">(${String.fromCharCode(65+i)})</span> ${c}`;
    d.addEventListener('click', ()=>selectOpt(i));
    elOptions.appendChild(d);
  });
}

function selectOpt(i){
  if(locked) return;
  matrixClick();
  selected=i;
  [...elOptions.children].forEach((node,k)=>{
    node.classList.toggle('selected', k===i);
  });
}

function clearChoice(){
  if(locked) return;
  matrixClick();
  selected=-1;
  [...elOptions.children].forEach(node=>node.classList.remove('selected'));
}

function checkAns(){
  if(locked) return;

  if(selected<0){
    wrongFx();
    elFb.innerHTML=`<span class="fb-no">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ô‡∏∞ ‚ö†Ô∏è</span>`;
    return;
  }

  const item=Q[order[idx]];
  const nodes=[...elOptions.children];
  const correct=item.a;

  locked=true;

  nodes.forEach((n,i)=>{
    n.classList.remove('selected');
    if(i===correct) n.classList.add('correct');
    if(i===selected && i!==correct) n.classList.add('wrong');
  });

  if(selected===correct){
    score+=1;
    elScore.textContent=score;
    elFb.innerHTML=`<span class="fb-ok">‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! MATRIX ‚úî üòé</span>`;
    emojiFloat("üòé"); emojiFloat("‚ú®");
    burst();
    correctFx();
  }else{
    elFb.innerHTML=`<span class="fb-no">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏à‡πâ‡∏≤ ‚ùå ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏∞</span>`;
    emojiFloat("üòµ‚Äçüí´");
    wrongFx();
  }

  elExplain.classList.remove('hide');
  elExplain.innerHTML = `<b>‡πÄ‡∏â‡∏•‡∏¢:</b> (${String.fromCharCode(65+correct)}) ${item.choices[correct]}<br/><b>‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</b> ${item.explain}`;
  elNext.disabled=false;
}

function nextQ(){
  matrixClick();
  if(idx < Q.length-1){
    idx++;
    renderQ();
  }else{
    endGame();
  }
}

function endGame(){
  document.getElementById('game').classList.add('hide');
  document.getElementById('summary').classList.remove('hide');
  document.getElementById('score2').textContent=score;
  elBar.style.width="100%";
  correctFx(); setTimeout(()=>correctFx(),120);
}

function restart(){
  matrixClick();
  document.getElementById('summary').classList.add('hide');
  document.getElementById('game').classList.add('hide');
  document.getElementById('intro').classList.remove('hide');
}

function review(){
  matrixClick();
  const box=document.getElementById('reviewBox');
  box.classList.remove('hide');

  let html = `
    <div style="font-weight:900;font-size:18px;margin-bottom:8px;color:#a7f3d0">‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏∏‡∏î (20 ‡∏Ç‡πâ‡∏≠)</div>
    <div style="color:#9fe9c8;font-weight:800;margin-bottom:10px">* ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏ä‡∏∏‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‚Äù ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô</div>
  `;

  Q.forEach((item,i)=>{
    const ans=item.a;
    html += `
      <div style="border:1px solid rgba(34,197,94,.25); border-radius:14px; padding:10px 12px; margin:10px 0; background:rgba(0,0,0,.22)">
        <div style="font-weight:900; color:#d1fae5">‡∏Ç‡πâ‡∏≠ ${i+1}. <span style="color:#a7f3d0">(${item.tag} ‚Ä¢ ${item.diff})</span></div>
        <div style="margin-top:6px; font-weight:900">${item.q}</div>
        <div style="margin-top:8px; color:#b7ffe0"><b>‡∏ï‡∏≠‡∏ö:</b> (${String.fromCharCode(65+ans)}) ${item.choices[ans]}</div>
        <div style="margin-top:6px; color:#9fe9c8"><b>‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</b> ${item.explain}</div>
      </div>
    `;
  });

  box.innerHTML=html;
}

/* =========================
   Matrix rain (canvas)
   ========================= */
const canvas=document.getElementById('rain');
const c=canvas.getContext('2d');
let w,h,cols,ypos,chars,fontSize;

function resize(){
  w=canvas.width=window.innerWidth*devicePixelRatio;
  h=canvas.height=window.innerHeight*devicePixelRatio;
  fontSize=Math.floor(16*devicePixelRatio);
  chars="01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥";
  cols=Math.floor(w/fontSize);
  ypos=Array(cols).fill(0);
}
window.addEventListener('resize', resize);
resize();

function drawRain(){
  if(!rainOn){ requestAnimationFrame(drawRain); return; }
  c.fillStyle="rgba(0,0,0,0.08)";
  c.fillRect(0,0,w,h);

  c.fillStyle="rgba(34,197,94,0.85)";
  c.font=`${fontSize}px monospace`;

  for(let i=0;i<cols;i++){
    const text=chars[Math.floor(Math.random()*chars.length)];
    const x=i*fontSize;
    const y=ypos[i]*fontSize;
    c.fillText(text,x,y);
    if(y>h && Math.random()>0.975) ypos[i]=0;
    ypos[i]++;
  }
  requestAnimationFrame(drawRain);
}
drawRain();
</script>
</body>
</html>
